<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">

  <title>{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  <meta name="keywords" content="{{ site.keywords }}">
  <meta name="author" content="{{ site.author }}">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:title" content="{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}">
  <meta property="og:description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  <meta property="og:image" content="{{ site.og_image | absolute_url }}">
  <meta property="og:locale" content="{{ site.lang | default: 'ko_KR' }}">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ page.url | absolute_url }}">
  <meta property="twitter:title" content="{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}">
  <meta property="twitter:description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  <meta property="twitter:image" content="{{ site.og_image | absolute_url }}">

  <!-- 구조화된 데이터 -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "{{ site.author }}",
    "jobTitle": "백엔드 개발자",
    "description": "{{ site.description | strip_html }}",
    "url": "{{ site.url }}",
    "email": "{{ site.email }}",
    "image": "{{ site.og_image | absolute_url }}",
    "sameAs": [
      "https://github.com/{{ site.github_username }}"
    ],
    "knowsAbout": [
      "Node.js",
      "Golang",
      "AWS",
      "Kubernetes",
      "백엔드 개발",
      "클라우드 아키텍처"
    ]
  }
  </script>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="96x96" href="{{ "/images/favicon2-96x96.png" | relative_url }}?t={{ site.time | date: "%s" }}">

  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}?t={{ site.time | date: "%s" }}">
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

  {% if jekyll.environment == 'production' and site.google_analytics %}
    {% include google-analytics.html %}
  {% endif %}
</head>
